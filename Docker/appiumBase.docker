FROM ubuntu:16.04
MAINTAINER DarrenMun

ENV APPIUM_VERSION "1.7.2"

ENV PATH=$PATH:/usr/local/bin

#==========================
#Install python
#==========================

RUN apt-get update \
 && apt-get install -y curl python-software-properties 


RUN apt-get install -y software-properties-common\
 && cd /usr/local/bin \
 && ln -s /usr/bin/python3 python


RUN add-apt-repository ppa:deadsnakes/ppa 
RUN apt-get update
RUN apt-get install python3.7

#==========================
#Appium Installation
#==========================

RUN curl -sL https://deb.nodesource.com/setup_10.x | bash -
RUN apt-get install -y nodejs
RUN npm install -g appium --unsafe-perm=true --allow-root

#==========================
#port 4723: 
#       Appium
#port 5037: 
#       ADB bridge
#port 30036:
#       Listening for tests
#==========================

EXPOSE 4723 5037 30036
RUN python3 --version
